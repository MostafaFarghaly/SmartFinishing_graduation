(()=>{var e={};e.id=2326,e.ids=[2326],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},80544:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(70260),a=r(28203),n=r(25155),i=r.n(n),o=r(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["projects",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,15466)),"D:\\front_end\\projects\\next_js\\Graduation_project\\smart-finshing\\app\\projects\\[id]\\edit\\page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"D:\\front_end\\projects\\next_js\\Graduation_project\\smart-finshing\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\front_end\\projects\\next_js\\Graduation_project\\smart-finshing\\app\\projects\\[id]\\edit\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/projects/[id]/edit/page",pathname:"/projects/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},14765:(e,t,r)=>{Promise.resolve().then(r.bind(r,15466))},78381:(e,t,r)=>{Promise.resolve().then(r.bind(r,90070))},90070:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(45512),a=r(58009),n=r(79334),i=r(21184);let o=["Apartment","Villa","Studio","Office","Duplex"],l=["Modern","Classic","Minimalist","Industrial","Bohemian"],d=["High Quality","Medium Quality","Economy Quality"];function c(){let{baseUrl:e}=(0,i.g)(),{id:t}=(0,n.useParams)(),r=(0,n.useRouter)(),[c,p]=(0,a.useState)(1),[u,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(!1),[f,j]=(0,a.useState)(""),[g,y]=(0,a.useState)([]),[v,b]=(0,a.useState)({name:"",serviceId:"",apartmentType:"",apartmentSize:"",preferredStyle:"",materialQuality:"",minBudget:"",maxBudget:"",details:""}),w=e=>{let{name:t,value:r}=e.target;b(e=>({...e,[t]:r}))},N=async()=>{h(!0);try{let s=localStorage.getItem("token"),a=await fetch(`${e}/api/Projects/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({...v,serviceId:parseInt(v.serviceId),minBudget:parseInt(v.minBudget),maxBudget:parseInt(v.maxBudget)})});if(!a.ok){let e=await a.text();throw Error(e||"Failed to update project")}alert("Project updated successfully!"),r.push(`/projects/${t}`)}catch(e){alert("Error: "+e.message)}finally{h(!1)}};return u?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-t-green-600 border-gray-300 mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Loading Data..."}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Please wait, this may take a moment."})]}):f?(0,s.jsx)("p",{className:"text-center mt-10 text-red-600",children:f}):(0,s.jsxs)("div",{className:"p-6 max-w-xl mx-auto bg-white shadow rounded-xl",children:[(0,s.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Edit Project"}),1===c&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",name:"name",value:v.name,onChange:w,placeholder:"Project Name",className:"w-full border px-4 py-2 rounded"}),(0,s.jsxs)("select",{name:"serviceId",value:v.serviceId||"",onChange:w,className:"w-full border px-4 py-2 rounded",children:[(0,s.jsx)("option",{value:"",children:"Select Service"}),g.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,s.jsxs)("select",{name:"apartmentType",value:v.apartmentType||"",onChange:w,className:"w-full border px-4 py-2 rounded",children:[(0,s.jsx)("option",{value:"",children:"Select Apartment Type"}),o.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsx)("input",{type:"text",name:"apartmentSize",value:v.apartmentSize,onChange:w,placeholder:"Apartment Size",className:"w-full border px-4 py-2 rounded"}),(0,s.jsx)("button",{onClick:()=>p(2),disabled:x,className:`flex items-center justify-center bg-blue-600 text-white px-4 py-2 rounded w-full ${x?"opacity-70 cursor-not-allowed":""}`,children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):"Next"})]}),2===c&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("select",{name:"preferredStyle",value:v.preferredStyle||"",onChange:w,className:"w-full border px-4 py-2 rounded",children:[(0,s.jsx)("option",{value:"",children:"Select Style"}),l.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsxs)("select",{name:"materialQuality",value:v.materialQuality||"",onChange:w,className:"w-full border px-4 py-2 rounded",children:[(0,s.jsx)("option",{value:"",children:"Select Material Quality"}),d.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsx)("input",{type:"number",name:"minBudget",value:v.minBudget,onChange:w,placeholder:"Min Budget",className:"w-full border px-4 py-2 rounded"}),(0,s.jsx)("input",{type:"number",name:"maxBudget",value:v.maxBudget,onChange:w,placeholder:"Max Budget",className:"w-full border px-4 py-2 rounded"}),(0,s.jsx)("textarea",{name:"details",value:v.details,onChange:w,placeholder:"Details",className:"w-full border px-4 py-2 rounded"}),(0,s.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,s.jsx)("button",{onClick:()=>p(1),disabled:x,className:`bg-gray-500 text-white px-4 py-2 rounded flex-1 ${x?"opacity-70 cursor-not-allowed":""}`,children:"Back"}),(0,s.jsx)("button",{onClick:N,disabled:x,className:`flex items-center justify-center bg-green-600 text-white px-4 py-2 rounded flex-1 ${x?"opacity-70 cursor-not-allowed":""}`,children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save"})]})]})]})}},15466:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\front_end\\\\projects\\\\next_js\\\\Graduation_project\\\\smart-finshing\\\\app\\\\projects\\\\[id]\\\\edit\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\front_end\\projects\\next_js\\Graduation_project\\smart-finshing\\app\\projects\\[id]\\edit\\page.tsx","default")},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(88077);let a=async e=>[{type:"image/x-icon",sizes:"34x33",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,5671,8077,3051],()=>r(80544));module.exports=s})();