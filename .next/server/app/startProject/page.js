(()=>{var e={};e.id=3810,e.ids=[3810],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},48274:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=r(70260),s=r(28203),n=r(25155),i=r.n(n),o=r(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["startProject",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,53056)),"D:\\front_end\\projects\\next_js\\Graduation_project\\smart-finshing\\app\\startProject\\page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"D:\\front_end\\projects\\next_js\\Graduation_project\\smart-finshing\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\front_end\\projects\\next_js\\Graduation_project\\smart-finshing\\app\\startProject\\page.jsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/startProject/page",pathname:"/startProject",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},90605:(e,t,r)=>{Promise.resolve().then(r.bind(r,53056))},37869:(e,t,r)=>{Promise.resolve().then(r.bind(r,58302))},58302:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(45512),s=r(58009);r(30919);var n=r(79334),i=r(94825);let o=(0,i.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),l=(0,i.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var d=r(21184);function c({services:e,cities:t}){let r=(0,n.useRouter)(),[i,c]=(0,s.useState)(1),[u,p]=(0,s.useState)(!1),[g,m]=(0,s.useState)(""),[x,h]=(0,s.useState)({name:"",serviceId:"",apartmentType:"",apartmentSize:"",preferredStyle:"",materialQuality:"",minBudget:"",maxBudget:"",city:"",details:"",images:[]}),{baseUrl:f}=(0,d.g)(),y=async()=>{if(m(""),1===i&&(!x.name||!x.serviceId)){m("Please complete all required fields in Step 1.");return}if(2===i&&(!x.minBudget||!x.maxBudget)){m("Please complete all required fields in Step 2.");return}if(i<3)c(i+1);else{let e=localStorage.getItem("token");if(!e){m("Please login first.");return}p(!0);let t=new FormData;t.append("Name",x.name),t.append("ServiceId",x.serviceId),t.append("ApartmentType",x.apartmentType),t.append("ApartmentSize",x.apartmentSize),t.append("PreferredStyle",x.preferredStyle),t.append("MaterialQuality",x.materialQuality),t.append("MinBudget",x.minBudget),t.append("MaxBudget",x.maxBudget),t.append("Details",x.details),x.images.forEach(e=>t.append("ImageFiles",e));try{let a=await fetch(`${f}/api/Projects`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:t});if(!a.ok){let e=await a.text();throw Error(e||"Upload failed")}r.push("/projects")}catch(e){console.error("Error:",e),m("Failed to create project. Please try again.")}finally{p(!1)}}},j=({label:e,value:t,options:r,onChange:n})=>{let[i,l]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>l(!i),className:"w-full border border-gray-300 rounded-lg px-5 py-4 text-lg flex justify-between items-center hover:border-gray-400 transition-colors",children:[t||(0,a.jsx)("span",{className:"text-gray-400",children:e}),(0,a.jsx)(o,{className:"w-5 h-5"})]}),i&&(0,a.jsx)("ul",{className:"absolute left-0 right-0 bg-white border border-gray-300 mt-1 rounded-lg shadow-lg z-20 max-h-72 overflow-y-auto",children:r.map((e,t)=>{let r="string"==typeof e?e:e.name,s="string"==typeof e?e:e.id.toString();return(0,a.jsx)("li",{onClick:()=>{n(s),l(!1)},className:"px-5 py-3 text-lg hover:bg-gray-100 cursor-pointer transition-colors",children:r},t)})})]})};return(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 px-2",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-2xl p-8 relative",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)("button",{onClick:()=>i>1&&c(i-1),disabled:1===i,className:`p-2 rounded-full ${1===i?"text-gray-300":"text-black hover:bg-gray-100"}`,children:(0,a.jsx)(l,{className:"w-6 h-6"})}),(0,a.jsx)("h2",{className:"text-center font-bold text-xl flex-1",children:"Start a New Project"}),(0,a.jsx)("button",{onClick:()=>window.history.back(),className:"p-2 rounded-full hover:bg-gray-100 text-xl",children:"âœ•"})]}),(0,a.jsx)("div",{className:"flex justify-between mb-8",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"flex-1 text-center",children:(0,a.jsx)("div",{className:`h-2 mb-3 rounded-full ${i>=e?"bg-green-500":"bg-gray-200"}`})},e))}),(0,a.jsxs)("div",{className:"space-y-6",children:[1===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"text",placeholder:"Project name",value:x.name,onChange:e=>h(t=>({...t,name:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-5 py-4 text-lg hover:border-gray-400 focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors"}),(0,a.jsx)(j,{label:"Select Service",value:e.find(e=>e.id.toString()===x.serviceId)?.name||"",options:e,onChange:e=>h(t=>({...t,serviceId:e}))}),(0,a.jsx)(j,{label:"Select Space Type",value:x.apartmentType,options:["Apartment","Villa","Studio","Office","Duplex"],onChange:e=>h(t=>({...t,apartmentType:e}))}),(0,a.jsx)("input",{type:"text",placeholder:"Apartment Size (e.g., 120 sqm)",value:x.apartmentSize,onChange:e=>h(t=>({...t,apartmentSize:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-5 py-4 text-lg hover:border-gray-400 focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors"})]}),2===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{label:"Select Finish Style",value:x.preferredStyle,options:["Modern","Classic","Minimalist","Industrial","Bohemian"],onChange:e=>h(t=>({...t,preferredStyle:e}))}),(0,a.jsx)(j,{label:"Select Quality Level",value:x.materialQuality,options:["High Quality","Medium Quality","Economy Quality"],onChange:e=>h(t=>({...t,materialQuality:e}))}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("input",{type:"number",placeholder:"Min Budget (EGP)",value:x.minBudget,onChange:e=>h(t=>({...t,minBudget:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-5 py-4 text-lg hover:border-gray-400 focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors"}),(0,a.jsx)("input",{type:"number",placeholder:"Max Budget (EGP)",value:x.maxBudget,onChange:e=>h(t=>({...t,maxBudget:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-5 py-4 text-lg hover:border-gray-400 focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors"})]})]}),3===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j,{label:"Select City",value:x.city,options:t,onChange:e=>h(t=>({...t,city:e}))}),(0,a.jsx)("textarea",{placeholder:"Additional notes (optional)",value:x.details,onChange:e=>h(t=>({...t,details:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-5 py-4 text-lg h-32 resize-none hover:border-gray-400 focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[(0,a.jsxs)("label",{className:"cursor-pointer",children:[(0,a.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{let t=e.target.files;t&&t.length>0&&h(e=>({...e,images:Array.from(t)}))},className:"hidden"}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,a.jsx)("i",{className:"fas fa-cloud-upload-alt text-4xl text-gray-400"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Click to upload images"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"or drag and drop"})]})]}),x.images.length>0&&(0,a.jsxs)("p",{className:"mt-3 text-green-600",children:[x.images.length," file(s) selected"]})]})]})]}),(0,a.jsx)("button",{onClick:y,disabled:u,className:`w-full py-5 rounded-xl mt-8 text-white text-xl font-semibold ${u?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"} transition-colors`,children:u?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"})," Processing..."]}):i<3?"Continue":"Submit Project"}),g&&(0,a.jsx)("p",{className:"mt-4 text-center text-red-600 text-lg",children:g})]})})}function u(){let{baseUrl:e}=(0,d.g)(),[t,r]=(0,s.useState)([]),[n,i]=(0,s.useState)([]);return(0,a.jsx)(c,{services:t,cities:n})}},53056:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\front_end\\\\projects\\\\next_js\\\\Graduation_project\\\\smart-finshing\\\\app\\\\startProject\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\front_end\\projects\\next_js\\Graduation_project\\smart-finshing\\app\\startProject\\page.jsx","default")},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(88077);let s=async e=>[{type:"image/x-icon",sizes:"34x33",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},30919:()=>{},94825:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(58009);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:d,...c},u)=>(0,a.createElement)("svg",{ref:u,...i,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:n("lucide",o),...c},[...d.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...i},l)=>(0,a.createElement)(o,{ref:l,iconNode:t,className:n(`lucide-${s(e)}`,r),...i}));return r.displayName=`${e}`,r}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,5671,8077,3051],()=>r(48274));module.exports=a})();