{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/smart-finshing/app/api/auth/%5B...nextauth%5D/route.ts"],"sourcesContent":["import NextAuth from \"next-auth\";\r\nimport CredentialsProvider from \"next-auth/providers/credentials\";\r\nimport axios from \"axios\";\r\n\r\nconst handler = NextAuth({\r\n  providers: [\r\n    CredentialsProvider({\r\n      name: \"Credentials\",\r\n      credentials: {\r\n        email: { label: \"Email\", type: \"text\" },\r\n        password: { label: \"Password\", type: \"password\" },\r\n      },\r\n      async authorize(credentials) {\r\n        try {\r\n          const res = await axios.post(\r\n            \"https://projectapi-ekhpcndsdgbahqhm.canadacentral-01.azurewebsites.net/api/account/login\",\r\n            {\r\n              email: credentials.email,\r\n              password: credentials.password,\r\n            },\r\n            { validateStatus: () => true }\r\n          );\r\n\r\n          const data = res.data;\r\n          if (data.errors == null && data.token) {\r\n            return {\r\n              id: data.userId,\r\n              name: data.displayName,\r\n              email: data.email,\r\n              token: data.token,\r\n            };\r\n          }\r\n          return null;\r\n        } catch (err) {\r\n          console.error(\"Login error:\", err);\r\n          return null;\r\n        }\r\n      },\r\n    }),\r\n  ],\r\n  callbacks: {\r\n    async jwt({ token, user }) {\r\n      if (user) {\r\n        token.accessToken = user.token;\r\n        token.user = user;\r\n      }\r\n      return token;\r\n    },\r\n    async session({ session, token }) {\r\n      session.accessToken = token.accessToken;\r\n      session.user = token.user;\r\n      return session;\r\n    },\r\n  },\r\n  pages: {\r\n    signIn: \"/login\",\r\n  },\r\n  session: {\r\n    strategy: \"jwt\",\r\n  },\r\n  secret: process.env.NEXTAUTH_SECRET,\r\n});\r\n\r\nexport { handler as GET, handler as POST };\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAM,UAAU,CAAA,GAAA,uIAAA,CAAA,UAAQ,AAAD,EAAE;IACvB,WAAW;QACT,CAAA,GAAA,0JAAA,CAAA,UAAmB,AAAD,EAAE;YAClB,MAAM;YACN,aAAa;gBACX,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAO;gBACtC,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YAClD;YACA,MAAM,WAAU,WAAW;gBACzB,IAAI;oBACF,MAAM,MAAM,MAAM,uIAAA,CAAA,UAAK,CAAC,IAAI,CAC1B,4FACA;wBACE,OAAO,YAAY,KAAK;wBACxB,UAAU,YAAY,QAAQ;oBAChC,GACA;wBAAE,gBAAgB,IAAM;oBAAK;oBAG/B,MAAM,OAAO,IAAI,IAAI;oBACrB,IAAI,KAAK,MAAM,IAAI,QAAQ,KAAK,KAAK,EAAE;wBACrC,OAAO;4BACL,IAAI,KAAK,MAAM;4BACf,MAAM,KAAK,WAAW;4BACtB,OAAO,KAAK,KAAK;4BACjB,OAAO,KAAK,KAAK;wBACnB;oBACF;oBACA,OAAO;gBACT,EAAE,OAAO,KAAK;oBACZ,QAAQ,KAAK,CAAC,gBAAgB;oBAC9B,OAAO;gBACT;YACF;QACF;KACD;IACD,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,MAAM;gBACR,MAAM,WAAW,GAAG,KAAK,KAAK;gBAC9B,MAAM,IAAI,GAAG;YACf;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,QAAQ,WAAW,GAAG,MAAM,WAAW;YACvC,QAAQ,IAAI,GAAG,MAAM,IAAI;YACzB,OAAO;QACT;IACF;IACA,OAAO;QACL,QAAQ;IACV;IACA,SAAS;QACP,UAAU;IACZ;IACA,QAAQ,QAAQ,GAAG,CAAC,eAAe;AACrC"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}