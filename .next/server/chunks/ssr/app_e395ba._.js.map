{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/smart-finshing/app/components/PopularSlider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n// كارت عرض الخدمة\r\nconst ServiceCard = ({ name, img, price, comments }) => (\r\n    <div className=\"rounded-lg overflow-hidden shadow bg-gradient-to-t from-gray-900/80 to-gray-700/40 relative flex flex-col justify-end\"\r\n        style={{\r\n        backgroundImage: `url('${img}')`,\r\n        backgroundRepeat: \"no-repeat\",\r\n        backgroundSize: \"cover\",\r\n        height: \"260px\",\r\n        minWidth: \"260px\",\r\n        }}>\r\n        <div className=\"absolute top-3 left-3 bg-green-500 text-white text-xs px-3 py-1 rounded-full\">\r\n        Start from {price}\r\n        </div>\r\n        <div className=\"p-4 z-10\">\r\n        <h3 className=\" text-base font-semibold\">{name}</h3>\r\n        <p className=\"text-gray-200 text-xs\">{comments} certified comments</p>\r\n        </div>\r\n    </div>\r\n    );\r\n\r\n    export default function PopularSlider({ services }) {\r\n    const [start, setStart] = useState(0);\r\n    const [loading, setLoading] = useState(false); // إضافة حالة التحميل\r\n    const visibleCount = 4;\r\n    const router = useRouter();\r\n\r\n    const canPrev = start > 0;\r\n    const canNext = start + visibleCount < services.length;\r\n\r\n    const handlePrev = () => {\r\n        if (canPrev) setStart(start - 1);\r\n    };\r\n\r\n    const handleNext = () => {\r\n        if (canNext) setStart(start + 1);\r\n    };\r\n\r\n    // دالة عند الضغط على الزر\r\n    const handleViewAll = () => {\r\n        setLoading(true);\r\n        router.push(\"/allservices\");\r\n    };\r\n\r\n    return (\r\n        <section className=\"bg-white py-16 px-4\">\r\n        <div className=\"text-center mb-8\">\r\n            <h2 className=\"text-2xl md:text-3xl font-bold text-gray-800\">\r\n            Discover Most Popular Services\r\n            </h2>\r\n            <p className=\"text-gray-600\">\r\n            Explore our most in-demand services, trusted by customers for their exceptional quality and reliability.\r\n            </p>\r\n        </div>\r\n\r\n        <div className=\"relative flex items-center justify-center mb-10\">\r\n            {/* السهم لليسار */}\r\n            <button\r\n            onClick={handlePrev}\r\n            disabled={!canPrev}\r\n            className={`z-10 w-10 h-10 flex items-center justify-center rounded-full bg-green-500 text-white text-2xl shadow transition hover:bg-green-600 absolute left-0 ${!canPrev && \"opacity-40 cursor-not-allowed\"}`}\r\n            aria-label=\"Previous\"\r\n            >\r\n            &#8592;\r\n            </button>\r\n\r\n            {/* الكروت */}\r\n            <div className=\"flex gap-6 mx-14 w-full justify-center \">\r\n            {services.slice(start, start + visibleCount).map((service, idx) => (\r\n                <ServiceCard key={start + idx} {...service} />\r\n            ))}\r\n            </div>\r\n\r\n            {/* السهم لليمين */}\r\n            <button\r\n            onClick={handleNext}\r\n            disabled={!canNext}\r\n            className={`z-10 w-10 h-10 flex items-center justify-center rounded-full bg-green-500 text-white text-2xl shadow transition hover:bg-green-600 absolute right-0 ${!canNext && \"opacity-40 cursor-not-allowed\"}`}\r\n            aria-label=\"Next\"\r\n            >\r\n            &#8594;\r\n            </button>\r\n        </div>\r\n\r\n        {/* زر عرض كل الخدمات */}\r\n        <div className=\"flex justify-center items-center gap-4 mt-4\">\r\n            <button\r\n                className=\"bg-green-500 hover:bg-green-600 text-white font-semibold px-8 py-3 rounded-full shadow transition flex items-center gap-2 disabled:opacity-50\"\r\n                onClick={handleViewAll}\r\n                disabled={loading}\r\n            >\r\n                {loading ? (\r\n                    <span className=\"flex items-center gap-2\">\r\n                        <svg className=\"animate-spin h-5 w-5\" viewBox=\"0 0 24 24\">\r\n                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\r\n                            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v8z\" />\r\n                        </svg>\r\n                        Loading...\r\n                    </span>\r\n                ) : (\r\n                    <>\r\n                        View all Services <span className=\"text-xl\">&#8594;</span>\r\n                    </>\r\n                )}\r\n            </button>\r\n        </div>\r\n        </section>\r\n    );\r\n    \r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAJA;;;;AAMA,kBAAkB;AAClB,MAAM,cAAc,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,QAAQ,EAAE,iBAC/C,8OAAC;QAAI,WAAU;QACX,OAAO;YACP,iBAAiB,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;YAChC,kBAAkB;YAClB,gBAAgB;YAChB,QAAQ;YACR,UAAU;QACV;;0BACA,8OAAC;gBAAI,WAAU;;oBAA+E;oBAClF;;;;;;;0BAEZ,8OAAC;gBAAI,WAAU;;kCACf,8OAAC;wBAAG,WAAU;kCAA4B;;;;;;kCAC1C,8OAAC;wBAAE,WAAU;;4BAAyB;4BAAS;;;;;;;;;;;;;;;;;;;AAKpC,SAAS,cAAc,EAAE,QAAQ,EAAE;IAClD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,QAAQ,qBAAqB;IACpE,MAAM,eAAe;IACrB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,UAAU,QAAQ;IACxB,MAAM,UAAU,QAAQ,eAAe,SAAS,MAAM;IAEtD,MAAM,aAAa;QACf,IAAI,SAAS,SAAS,QAAQ;IAClC;IAEA,MAAM,aAAa;QACf,IAAI,SAAS,SAAS,QAAQ;IAClC;IAEA,0BAA0B;IAC1B,MAAM,gBAAgB;QAClB,WAAW;QACX,OAAO,IAAI,CAAC;IAChB;IAEA,qBACI,8OAAC;QAAQ,WAAU;;0BACnB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAA+C;;;;;;kCAG7D,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;0BAKjC,8OAAC;gBAAI,WAAU;;kCAEX,8OAAC;wBACD,SAAS;wBACT,UAAU,CAAC;wBACX,WAAW,CAAC,mJAAmJ,EAAE,CAAC,WAAW,iCAAiC;wBAC9M,cAAW;kCACV;;;;;;kCAKD,8OAAC;wBAAI,WAAU;kCACd,SAAS,KAAK,CAAC,OAAO,QAAQ,cAAc,GAAG,CAAC,CAAC,SAAS,oBACvD,8OAAC;gCAA+B,GAAG,OAAO;+BAAxB,QAAQ;;;;;;;;;;kCAK9B,8OAAC;wBACD,SAAS;wBACT,UAAU,CAAC;wBACX,WAAW,CAAC,oJAAoJ,EAAE,CAAC,WAAW,iCAAiC;wBAC/M,cAAW;kCACV;;;;;;;;;;;;0BAML,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBACG,WAAU;oBACV,SAAS;oBACT,UAAU;8BAET,wBACG,8OAAC;wBAAK,WAAU;;0CACZ,8OAAC;gCAAI,WAAU;gCAAuB,SAAQ;;kDAC1C,8OAAC;wCAAO,WAAU;wCAAa,IAAG;wCAAK,IAAG;wCAAK,GAAE;wCAAK,QAAO;wCAAe,aAAY;wCAAI,MAAK;;;;;;kDACjG,8OAAC;wCAAK,WAAU;wCAAa,MAAK;wCAAe,GAAE;;;;;;;;;;;;4BACjD;;;;;;6CAIV;;4BAAE;0CACoB,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAQpE"}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/smart-finshing/app/home/PopularServices/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport PopularSlider from \"../../components/PopularSlider\";\r\nimport { useApi } from \"../../context/ApiContext\";\r\n\r\nexport default function PopularServicesPage() {\r\n  const { baseUrl } = useApi();\r\n  const [services, setServices] = useState([]);\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchServices() {\r\n      try {\r\n        const res = await fetch(`${baseUrl}/api/categories`\r\n          , {\r\n            next: { revalidate: 60 }, // Cache for 60 seconds\r\n            cache: \"force-cache\", // Force cache to avoid re-fetching\r\n          }\r\n        );\r\n\r\n        if (!res.ok) throw new Error(\"Failed to fetch services\");\r\n\r\n        const json = await res.json();\r\n        const mapped = json.data.map((category) => ({\r\n          name: category.name,\r\n          img: category.services[1]?.pictureUrl || \"\",\r\n          price: \"EGP 100\",\r\n          comments: category.services[0]?.workers?.length || 0,\r\n        }));\r\n\r\n        setServices(mapped);\r\n      } catch (error) {\r\n        console.error(\"Error fetching services\", error);\r\n      }\r\n    }\r\n\r\n    fetchServices();\r\n  }, [baseUrl]);\r\n\r\n  return <PopularSlider services={services} />;\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,6HAAA,CAAA,SAAM,AAAD;IACzB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAG3C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;YACb,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,eAAe,CAAC,EAC/C;oBACA,MAAM;wBAAE,YAAY;oBAAG;oBACvB,OAAO;gBACT;gBAGF,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;gBAE7B,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,MAAM,SAAS,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,WAAa,CAAC;wBAC1C,MAAM,SAAS,IAAI;wBACnB,KAAK,SAAS,QAAQ,CAAC,EAAE,EAAE,cAAc;wBACzC,OAAO;wBACP,UAAU,SAAS,QAAQ,CAAC,EAAE,EAAE,SAAS,UAAU;oBACrD,CAAC;gBAED,YAAY;YACd,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2BAA2B;YAC3C;QACF;QAEA;IACF,GAAG;QAAC;KAAQ;IAEZ,qBAAO,8OAAC,mIAAA,CAAA,UAAa;QAAC,UAAU;;;;;;AAClC"}},
    {"offset": {"line": 296, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}