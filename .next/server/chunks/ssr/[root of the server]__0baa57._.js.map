{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/smart-finshing/app/gosearch/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { useApi } from \"../../context/ApiContext\";\r\nimport Navbar from \"../..components/Nav/page\";\r\nimport Footer from \"../components/Footer/page\";\r\n\r\nexport default function GoSearch() {\r\n  const { baseUrl } = useApi();\r\n  const params = useParams();\r\n  const router = useRouter();\r\n\r\n  const serviceId = params.id;\r\n  const [selectedService, setSelectedService] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const res = await fetch(`${baseUrl}/api/categories`, {\r\n          cache: \"force-cache\",\r\n          next: { revalidate: 60 },\r\n        });\r\n\r\n        if (!res.ok) throw new Error(\"Failed to fetch data\");\r\n\r\n        const data = await res.json();\r\n        const allServices = data?.data?.flatMap((cat) => cat.services || []);\r\n        const foundService = allServices.find(\r\n          (s) => String(s.id) === String(serviceId)\r\n        );\r\n\r\n        if (!foundService) {\r\n          router.replace(\"/not-found\"); // ÿ®ÿØŸäŸÑ ŸÑŸÄ notFound()\r\n          return;\r\n        }\r\n\r\n        setSelectedService(foundService);\r\n      } catch (err) {\r\n        console.error(err);\r\n        router.replace(\"/not-found\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    if (serviceId) fetchData();\r\n  }, [baseUrl, serviceId]);\r\n\r\n  if (loading) return <p className=\"text-center py-10\">Loading...</p>;\r\n  if (!selectedService) return null;\r\n\r\n  const workers = selectedService.workers || [];\r\n  const heroImage = selectedService.pictureUrl || \"/images/default-hero.jpg\";\r\n\r\n  return (<>\r\n    <Navbar  />\r\n    <div>\r\n      {/* Hero Section */}\r\n      <div className=\"max-w-6xl mx-auto my-6 px-4 flex flex-col md:flex-row gap-6 items-center\">\r\n        <div className=\"w-full md:w-1/2\">\r\n          <Image\r\n            src={heroImage}\r\n            alt={`Banner for ${selectedService.name}`}\r\n            width={600}\r\n            height={400}\r\n            className=\"rounded-lg object-cover w-full h-auto\"\r\n          />\r\n        </div>\r\n        <div className=\"w-full md:w-1/2\">\r\n          <h2 className=\"text-xl font-semibold text-green-700 mb-2\">\r\n            üîπ Top {selectedService.name} workers near you\r\n          </h2>\r\n          <p className=\"text-gray-600 text-sm mb-4\">\r\n            These workers have been highly rated for knowledge, experience, and\r\n            customer satisfaction.\r\n          </p>\r\n          <hr className=\"border-gray-300\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Workers Section */}\r\n      <div className=\"max-w-5xl mx-auto bg-white rounded-lg\">\r\n        {workers.length > 0 ? (\r\n          workers.map((worker) => (\r\n            <div\r\n              key={worker.id}\r\n              className=\"group flex items-center border pb-4 mb-4 border-gray-200 bg-white rounded-lg p-4\"\r\n            >\r\n              <div>\r\n                <Image\r\n                  src={worker.profilePicture || \"/images/default-user.png\"}\r\n                  alt={worker.name || \"Worker profile\"}\r\n                  width={80}\r\n                  height={80}\r\n                  className=\"rounded-lg bg-gray-200\"\r\n                />\r\n              </div>\r\n              <div className=\"flex-1 px-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                  {worker.name}\r\n                </h3>\r\n                <p className=\"text-gray-600 text-sm\">{worker.email}</p>\r\n                <p className=\"text-gray-600 text-sm\">{worker.city}</p>\r\n                <p className=\"text-gray-600 text-sm\">\r\n                  {worker.rating || \"No rating available\"} ‚≠ê\r\n                </p>\r\n              </div>\r\n              <div className=\"grid grid-cols-1\">\r\n                <Link\r\n                  href={`/send-request/${worker.id}`}\r\n                  className=\"mb-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-white hover:text-black\"\r\n                >\r\n                  Request Quote\r\n                </Link>\r\n                <Link\r\n                  href={`/viewprofile/${worker.id}`}\r\n                  className=\"mt-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-white hover:text-black\"\r\n                >\r\n                  Learn More\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p className=\"text-center text-gray-600 text-sm py-10\">\r\n            No workers found for this service.\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n    <Footer />\r\n  </>);\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}