{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/Graduation_project/smart-finshing/app/%28auth%29/changepassword/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { useLoginClient } from \"../../context/regester/login_context\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport {  useRouter } from 'next/navigation';\r\n\r\n\r\nexport default function ChangePasswordPage() {\r\n    const { changePassword } = useLoginClient();\r\n\r\n    const [showOld, setShowOld] = useState(false);\r\n    const [showNew, setShowNew] = useState(false);\r\n    const [showRepeat, setShowRepeat] = useState(false);\r\n\r\n    const [oldPassword, setOldPassword] = useState(\"\");\r\n    const [newPassword, setNewPassword] = useState(\"\");\r\n    const [repeatPassword, setRepeatPassword] = useState(\"\");\r\n\r\n    const [message, setMessage] = useState(\"\");\r\n    const [isLoading, setIsLoading] = useState(false); // ÿ£ÿ∂ŸÅ ÿ≠ÿßŸÑÿ© ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ ŸáŸÜÿß\r\n    const router = useRouter();\r\n\r\n    const handleSubmit = async () => {\r\n        setIsLoading(true); // ÿßÿ®ÿØÿ£ ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ\r\n        try {\r\n            const res = await changePassword({\r\n                currentPassword: oldPassword,\r\n                newPassword,\r\n                confirmPassword: repeatPassword,\r\n            });\r\n\r\n            setMessage(\"Password changed successfully ‚úÖ\");\r\n            setOldPassword(\"\");\r\n            setNewPassword(\"\");\r\n            setRepeatPassword(\"\");\r\n        } catch (err) {\r\n            setMessage(err.message || \"Failed to change password.\");\r\n        } finally {\r\n            setIsLoading(false); // ÿ£ŸàŸÇŸÅ ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ\r\n            setTimeout(() => {\r\n                router.push(\"/account\");\r\n            }, 1500);\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\", minHeight: \"100vh\", background: \"#f7f7f7\" }}>\r\n        <div style={{ background: \"#fff\", borderRadius: 10, boxShadow: \"0 2px 8px rgba(0,0,0,0.07)\", padding: 32, width: 400 }}>\r\n            <div style={{display: \"flex\",alignItems: \"center\",justifyContent: \"space-between\", marginBottom: 24}}>\r\n                <h2 style={{ fontWeight: 600, margin: 0 }}>Change password</h2>\r\n                <button\r\n                    onClick={() => window.history.back()}\r\n                    style={{\r\n                    background: \"none\",\r\n                    border: \"none\",\r\n                    fontSize: 20,\r\n                    cursor: \"pointer\",\r\n                    lineHeight: 1,\r\n                    padding: 0\r\n                    }}\r\n                    aria-label=\"Close\"\r\n                >\r\n                    ‚úï\r\n                </button>\r\n            </div>\r\n\r\n\r\n            {/* Inputs */}\r\n            <PasswordInput\r\n            label=\"Old password\"\r\n            show={showOld}\r\n            setShow={setShowOld}\r\n            value={oldPassword}\r\n            setValue={setOldPassword}\r\n            link=\"/forgetPass\"\r\n            linkText=\"Forget password ?\"\r\n            />\r\n            <PasswordInput\r\n            label=\"New password\"\r\n            show={showNew}\r\n            setShow={setShowNew}\r\n            value={newPassword}\r\n            setValue={setNewPassword}\r\n            />\r\n            <PasswordInput\r\n            label=\"Repeat new password\"\r\n            show={showRepeat}\r\n            setShow={setShowRepeat}\r\n            value={repeatPassword}\r\n            setValue={setRepeatPassword}\r\n            />\r\n\r\n            {/* Message */}\r\n            {message && (\r\n                <p\r\n                    style={{\r\n                    color: message.includes(\"successfully\") ? \"#27ae60\" : \"#e74c3c\",\r\n                    fontSize: 14,\r\n                    marginBottom: 12,\r\n                    }}\r\n                >\r\n                    {message}\r\n                </p>\r\n            )}\r\n\r\n\r\n            {/* Button */}\r\n            <button\r\n            onClick={handleSubmit}\r\n            style={{\r\n                width: \"100%\",\r\n                background: \"#27ae60\",\r\n                color: \"#fff\",\r\n                border: \"none\",\r\n                borderRadius: 6,\r\n                padding: \"12px 0\",\r\n                fontSize: 17,\r\n                fontWeight: 500,\r\n                cursor: \"pointer\",\r\n            }}\r\n            disabled={isLoading} // ÿ™ÿπÿ∑ŸäŸÑ ÿßŸÑÿ≤ÿ± ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ\r\n            >\r\n            {isLoading ? <i className=\"fa fa-spinner fa-spin\"></i> : \"Save password\"}\r\n            </button>\r\n        </div>\r\n        </div>\r\n    );\r\n    }\r\n\r\n    function PasswordInput({ label, show, setShow, value, setValue, link, linkText }) {\r\n    return (\r\n        <div style={{ marginBottom: 20 }}>\r\n        <label style={{ fontSize: 14, color: \"#222\" }}>{label}</label>\r\n        <div style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            border: \"1px solid #27ae60\",\r\n            borderRadius: 8,\r\n            marginTop: 6,\r\n            paddingRight: 8\r\n        }}>\r\n            <input\r\n            type={show ? \"text\" : \"password\"}\r\n            value={value}\r\n            onChange={(e) => setValue(e.target.value)}\r\n            placeholder={`Enter your password`}\r\n            style={{\r\n                border: \"none\",\r\n                outline: \"none\",\r\n                flex: 1,\r\n                padding: \"10px 12px\",\r\n                fontSize: 15,\r\n                borderRadius: 8\r\n            }}\r\n            />\r\n            <button\r\n            type=\"button\"\r\n            onClick={() => setShow((prev) => !prev)}\r\n            style={{ background: \"none\", border: \"none\", cursor: \"pointer\" }}\r\n            >\r\n            {show ? \"üôà\" : \"üëÅÔ∏è\"}\r\n            </button>\r\n        </div>\r\n\r\n        {/* ÿ±ÿßÿ®ÿ∑ Forget Password ÿπŸÑŸâ ŸÜŸÅÿ≥ ÿßŸÑÿ≥ÿ∑ÿ± ŸäŸÖŸäŸÜ */}\r\n        {link && (\r\n            <div style={{\r\n            display: \"flex\",\r\n            justifyContent: \"flex-end\",\r\n            marginTop: 4\r\n            }}>\r\n            <a href={link} style={{\r\n                color: \"#27ae60\",\r\n                fontSize: 13,\r\n                textDecoration: \"none\"\r\n            }}>\r\n                {linkText || \"Forget password ?\"}\r\n            </a>\r\n            </div>\r\n        )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}