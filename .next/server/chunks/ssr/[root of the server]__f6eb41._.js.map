{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/smart-finshing/app/context/token_context.tsx"],"sourcesContent":["\"use client\";\r\nimport { createContext, useContext, useState, useEffect } from \"react\";\r\nimport {jwtDecode} from \"jwt-decode\";\r\n\r\nconst TokenContext = createContext();\r\nexport function TokenProvider({ children }) {\r\n    const [userData, setUserData] = useState(null);\r\n\r\n    function saveUserData() {\r\n        let encodedToken = localStorage.getItem(\"token\");\r\n    \r\n        if (!encodedToken || encodedToken.split(\".\").length !== 3) {\r\n            // console.warn(\"Invalid or missing token\");\r\n            return;\r\n        }\r\n        const decodedToken = jwtDecode(encodedToken);\r\n        setUserData(decodedToken);\r\n        console.log(decodedToken);        \r\n    }\r\n    \r\n\r\n    useEffect(() => {\r\n        saveUserData();\r\n    }, []);\r\n\r\n    function logOut(){\r\n        // localStorage.removeItem('token');\r\n        localStorage.clear();\r\n        setUserData(null);\r\n        window.location.href = \"/\";\r\n    }\r\nreturn (\r\n    <TokenContext.Provider value={{ userData, saveUserData, logOut }}>\r\n    {children}\r\n    </TokenContext.Provider>\r\n);\r\n}\r\n\r\nexport function useToken() {\r\n    return useContext(TokenContext);\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIA,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD;AAC1B,SAAS,cAAc,EAAE,QAAQ,EAAE;IACtC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,SAAS;QACL,IAAI,eAAe,aAAa,OAAO,CAAC;QAExC,IAAI,CAAC,gBAAgB,aAAa,KAAK,CAAC,KAAK,MAAM,KAAK,GAAG;YACvD,4CAA4C;YAC5C;QACJ;QACA,MAAM,eAAe,CAAA,GAAA,sJAAA,CAAA,YAAS,AAAD,EAAE;QAC/B,YAAY;QACZ,QAAQ,GAAG,CAAC;IAChB;IAGA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN;IACJ,GAAG,EAAE;IAEL,SAAS;QACL,oCAAoC;QACpC,aAAa,KAAK;QAClB,YAAY;QACZ,OAAO,QAAQ,CAAC,IAAI,GAAG;IAC3B;IACJ,qBACI,8OAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAU;YAAc;QAAO;kBAC9D;;;;;;AAGL;AAEO,SAAS;IACZ,OAAO,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;AACtB"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/smart-finshing/app/context/regester/login_context.tsx"],"sourcesContent":["\"use client\";\r\nimport React, {\r\ncreateContext,\r\nuseContext,\r\nuseState,\r\nuseEffect,\r\nReactNode,\r\n} from \"react\";\r\nimport axios from \"axios\";\r\nimport { useToken } from \"../token_context\";\r\n\r\n\r\n\r\nconst LoginClientContext = createContext();\r\n\r\nexport function LoginClientProvider({children}) {\r\nconst { saveUserData } = useToken();\r\nconst [error, setErrors] = useState(\"\");\r\nconst [isLoading, setisLoading] = useState(false);\r\nconst [saveData, setSaveData] = useState(null);\r\nconst [user, setUser] = useState({\r\n    email: \"\",\r\n    password: \"\"\r\n});\r\nfunction getUserData(eventInfo) {\r\nlet myUser = {...user};\r\nmyUser[eventInfo.target.name] = eventInfo.target.value;\r\nsetUser(myUser);\r\n}\r\nuseEffect(() => {\r\n    const saved = localStorage.getItem(\"userData\");\r\n    if (saved) {\r\n        setSaveData(JSON.parse(saved));\r\n    }\r\n}, []);\r\n\r\nasync function sendData() {\r\nconst { data } = await axios.post(`https://projectapi-ekhpcndsdgbahqhm.canadacentral-01.azurewebsites.net/api/account/login`,user,{ validateStatus: () => true });\r\n\r\nif (data.errors == null) {\r\n    setisLoading(false);\r\n    localStorage.setItem(\"token\", data.token);\r\n    setSaveData(data);\r\n    localStorage.setItem(\"userData\", JSON.stringify(data)); // نحفظ البيانات\r\n    saveUserData();\r\n    window.location.href = \"/\";\r\n}\r\nelse {\r\n    setisLoading(false);\r\n    setErrors(data.errors);\r\n}\r\n}\r\n    \r\n    \r\n    function submitForm(e){\r\n        e.preventDefault();\r\n        setisLoading(true);\r\n        \r\n        sendData();\r\n    }\r\n\r\nreturn (\r\n<LoginClientContext.Provider\r\n    value={{error,isLoading,getUserData,submitForm,saveData}}\r\n>\r\n    {children}\r\n</LoginClientContext.Provider>\r\n);\r\n}\r\n\r\nexport function useLoginClient() {\r\nconst context = useContext(LoginClientContext);\r\nif (!context) {\r\nthrow new Error(\r\n    \"useLoginClient must be used within a LoginClientProvider\"\r\n);\r\n}\r\nreturn context;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AAQA;AADA;AARA;;;;;AAaA,MAAM,mCAAqB,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD;AAEhC,SAAS,oBAAoB,EAAC,QAAQ,EAAC;IAC9C,MAAM,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,gIAAA,CAAA,WAAQ,AAAD;IAChC,MAAM,CAAC,OAAO,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACpC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAC7B,OAAO;QACP,UAAU;IACd;IACA,SAAS,YAAY,SAAS;QAC9B,IAAI,SAAS;YAAC,GAAG,IAAI;QAAA;QACrB,MAAM,CAAC,UAAU,MAAM,CAAC,IAAI,CAAC,GAAG,UAAU,MAAM,CAAC,KAAK;QACtD,QAAQ;IACR;IACA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACP,YAAY,KAAK,KAAK,CAAC;QAC3B;IACJ,GAAG,EAAE;IAEL,eAAe;QACf,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,CAAC,wFAAwF,CAAC,EAAC,MAAK;YAAE,gBAAgB,IAAM;QAAK;QAE/J,IAAI,KAAK,MAAM,IAAI,MAAM;YACrB,aAAa;YACb,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;YACxC,YAAY;YACZ,aAAa,OAAO,CAAC,YAAY,KAAK,SAAS,CAAC,QAAQ,gBAAgB;YACxE;YACA,OAAO,QAAQ,CAAC,IAAI,GAAG;QAC3B,OACK;YACD,aAAa;YACb,UAAU,KAAK,MAAM;QACzB;IACA;IAGI,SAAS,WAAW,CAAC;QACjB,EAAE,cAAc;QAChB,aAAa;QAEb;IACJ;IAEJ,qBACA,8OAAC,mBAAmB,QAAQ;QACxB,OAAO;YAAC;YAAM;YAAU;YAAY;YAAW;QAAQ;kBAEtD;;;;;;AAGL;AAEO,SAAS;IAChB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACd,MAAM,IAAI,MACN;IAEJ;IACA,OAAO;AACP"}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/smart-finshing/app/%28auth%29/login/page.tsx"],"sourcesContent":["\"use client\"\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport Image from 'next/image';\r\nimport Link from \"next/link\";\r\nimport React , { useState } from 'react';\r\n\r\nimport { useLoginClient } from \"../../context/regester/login_context\";\r\n\r\nexport default function Login() {\r\n  const { error,isLoading,getUserData,submitForm } = useLoginClient();\r\n  \r\n  \r\n  return (\r\n    <div className=\"flex min-h-screen items-center justify-center bg-gray-100\">\r\n      <div className=\"flex w-full max-w-4xl bg-white shadow-lg rounded-2xl overflow-hidden\">\r\n          {/* Left Section */}\r\n          <div className=\"w-10/12 p-8\">\r\n            <h2 className=\"text-3xl font-bold my-text-green mb-2\">Welcome back!</h2>\r\n            <p className=\"text-gray-600 mb-6\">Login to access your account</p>\r\n            {error.length >0 ? <div className=\"text-red-600\">{error}</div> : \"\"}\r\n            <form className=\"space-y-4\" onSubmit={submitForm}>\r\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">Email Address</label>\r\n                <input onChange={getUserData} type=\"email\" id=\"email\" name=\"email\" placeholder=\"Enter your email\" required\r\n                  className=\"mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:outline-none\"/>\r\n                <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">Password</label>\r\n                <input onChange={getUserData} type=\"password\" id=\"password\" name=\"password\" placeholder=\"Enter your password\" required\r\n                  className=\"mt-1 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:outline-none\"/>\r\n                \r\n                <div className=\"text-right mt-2\">\r\n                  <Link href=\"/forgetPass\" className=\"text-sm text-green-500 hover:underline\">Forgot password?</Link>\r\n                </div>\r\n              <button type=\"submit\" className=\"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors\">\r\n                {isLoading == true ? <i className=\"fa fa-spinner fa-spin\"></i> : \"Login\"}\r\n              </button>\r\n            </form>\r\n            <div className=\"mt-6 flex items-center justify-between\">\r\n              <hr className=\"w-1/4 border-gray-300\" />\r\n              <span className=\"text-sm text-gray-500\">or</span>\r\n              <hr className=\"w-1/4 border-gray-300\" />\r\n            </div>\r\n            <div className=\"mt-4 flex space-x-4\">\r\n              <button className=\"flex-1 flex items-center justify-center bg-white border border-gray-300 text-gray-700 py-2 rounded-lg hover:shadow hover:bg-red-500 hover:text-white transition-colors\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" viewBox=\"0 0 128 128\"><path fill=\"#fff\" d=\"M44.59 4.21a63.28 63.28 0 0 0 4.33 120.9a67.6 67.6 0 0 0 32.36.35a57.13 57.13 0 0 0 25.9-13.46a57.44 57.44 0 0 0 16-26.26a74.3 74.3 0 0 0 1.61-33.58H65.27v24.69h34.47a29.72 29.72 0 0 1-12.66 19.52a36.2 36.2 0 0 1-13.93 5.5a41.3 41.3 0 0 1-15.1 0A37.2 37.2 0 0 1 44 95.74a39.3 39.3 0 0 1-14.5-19.42a38.3 38.3 0 0 1 0-24.63a39.25 39.25 0 0 1 9.18-14.91A37.17 37.17 0 0 1 76.13 27a34.3 34.3 0 0 1 13.64 8q5.83-5.8 11.64-11.63c2-2.09 4.18-4.08 6.15-6.22A61.2 61.2 0 0 0 87.2 4.59a64 64 0 0 0-42.61-.38\"/><path fill=\"#e33629\" d=\"M44.59 4.21a64 64 0 0 1 42.61.37a61.2 61.2 0 0 1 20.35 12.62c-2 2.14-4.11 4.14-6.15 6.22Q95.58 29.23 89.77 35a34.3 34.3 0 0 0-13.64-8a37.17 37.17 0 0 0-37.46 9.74a39.25 39.25 0 0 0-9.18 14.91L8.76 35.6A63.53 63.53 0 0 1 44.59 4.21\"/><path fill=\"#f8bd00\" d=\"M3.26 51.5a63 63 0 0 1 5.5-15.9l20.73 16.09a38.3 38.3 0 0 0 0 24.63q-10.36 8-20.73 16.08a63.33 63.33 0 0 1-5.5-40.9\"/><path fill=\"#587dbd\" d=\"M65.27 52.15h59.52a74.3 74.3 0 0 1-1.61 33.58a57.44 57.44 0 0 1-16 26.26c-6.69-5.22-13.41-10.4-20.1-15.62a29.72 29.72 0 0 0 12.66-19.54H65.27c-.01-8.22 0-16.45 0-24.68\"/><path fill=\"#319f43\" d=\"M8.75 92.4q10.37-8 20.73-16.08A39.3 39.3 0 0 0 44 95.74a37.2 37.2 0 0 0 14.08 6.08a41.3 41.3 0 0 0 15.1 0a36.2 36.2 0 0 0 13.93-5.5c6.69 5.22 13.41 10.4 20.1 15.62a57.13 57.13 0 0 1-25.9 13.47a67.6 67.6 0 0 1-32.36-.35a63 63 0 0 1-23-11.59A63.7 63.7 0 0 1 8.75 92.4\"/></svg>\r\n                  Login with Google\r\n              </button>\r\n              <button className=\"flex-1 flex items-center justify-center bg-white border border-gray-300 text-gray-700 py-2 rounded-lg hover:shadow hover:bg-blue-500 hover:text-white transition-colors\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"28\" viewBox=\"0 0 48 48\"><path fill=\"#2f88ff\" stroke=\"#000\" strokeLinejoin=\"round\" strokeWidth=\"3.8\" d=\"M36 12.5997H31.2489H29.9871C28.9009 12.5997 28.0203 13.4803 28.0203 14.5666V21.4674H36L34.8313 29.0643H28.0203V43H19.2451V29.0643H12V21.4674H19.1515L19.2451 14.2563L19.2318 12.9471C19.1879 8.60218 22.6745 5.04434 27.0194 5.0004C27.0459 5.00013 27.0724 5 27.0989 5H36V12.5997Z\"/></svg>\r\n                Login with Facebook\r\n              </button>\r\n            </div>\r\n            <p className=\"mt-6 text-sm text-center text-gray-500\">\r\n              Don’t have an account? <Link href=\"/signup\" className=\"text-green-500 hover:underline\">Sign Up</Link>\r\n            </p>\r\n          </div>\r\n\r\n          {/* Right Section */}\r\n          <div className=\"w-1/2 bg-green-50 flex items-center justify-center p-8\">\r\n            <Image\r\n                src=\"/images/Login.png\"\r\n                alt=\"Login\"\r\n                width={550}\r\n                height={550}\r\n                className=\"mx-auto\"/>        \r\n          </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAGA;AANA;;;;;;AAQe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAC,SAAS,EAAC,WAAW,EAAC,UAAU,EAAE,GAAG,CAAA,GAAA,4IAAA,CAAA,iBAAc,AAAD;IAGhE,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEX,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAwC;;;;;;sCACtD,8OAAC;4BAAE,WAAU;sCAAqB;;;;;;wBACjC,MAAM,MAAM,GAAE,kBAAI,8OAAC;4BAAI,WAAU;sCAAgB;;;;;mCAAe;sCACjE,8OAAC;4BAAK,WAAU;4BAAY,UAAU;;8CAClC,8OAAC;oCAAM,SAAQ;oCAAQ,WAAU;8CAA0C;;;;;;8CAC3E,8OAAC;oCAAM,UAAU;oCAAa,MAAK;oCAAQ,IAAG;oCAAQ,MAAK;oCAAQ,aAAY;oCAAmB,QAAQ;oCACxG,WAAU;;;;;;8CACZ,8OAAC;oCAAM,SAAQ;oCAAW,WAAU;8CAA0C;;;;;;8CAC9E,8OAAC;oCAAM,UAAU;oCAAa,MAAK;oCAAW,IAAG;oCAAW,MAAK;oCAAW,aAAY;oCAAsB,QAAQ;oCACpH,WAAU;;;;;;8CAEZ,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAc,WAAU;kDAAyC;;;;;;;;;;;8CAEhF,8OAAC;oCAAO,MAAK;oCAAS,WAAU;8CAC7B,aAAa,qBAAO,8OAAC;wCAAE,WAAU;;;;;+CAA+B;;;;;;;;;;;;sCAGrE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;;;;;;8CACd,8OAAC;oCAAK,WAAU;8CAAwB;;;;;;8CACxC,8OAAC;oCAAG,WAAU;;;;;;;;;;;;sCAEhB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAO,WAAU;;sDAChB,8OAAC;4CAAI,OAAM;4CAA6B,OAAM;4CAAK,QAAO;4CAAK,SAAQ;;8DAAc,8OAAC;oDAAK,MAAK;oDAAO,GAAE;;;;;;8DAAqf,8OAAC;oDAAK,MAAK;oDAAU,GAAE;;;;;;8DAA0O,8OAAC;oDAAK,MAAK;oDAAU,GAAE;;;;;;8DAAuH,8OAAC;oDAAK,MAAK;oDAAU,GAAE;;;;;;8DAA2K,8OAAC;oDAAK,MAAK;oDAAU,GAAE;;;;;;;;;;;;wCAAmR;;;;;;;8CAG39C,8OAAC;oCAAO,WAAU;;sDAChB,8OAAC;4CAAI,OAAM;4CAA6B,OAAM;4CAAK,QAAO;4CAAK,SAAQ;sDAAY,cAAA,8OAAC;gDAAK,MAAK;gDAAU,QAAO;gDAAO,gBAAe;gDAAQ,aAAY;gDAAM,GAAE;;;;;;;;;;;wCAA6R;;;;;;;;;;;;;sCAIlc,8OAAC;4BAAE,WAAU;;gCAAyC;8CAC7B,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAU,WAAU;8CAAiC;;;;;;;;;;;;;;;;;;8BAK3F,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;wBACF,KAAI;wBACJ,KAAI;wBACJ,OAAO;wBACP,QAAQ;wBACR,WAAU;;;;;;;;;;;;;;;;;;;;;;AAK1B"}},
    {"offset": {"line": 571, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}