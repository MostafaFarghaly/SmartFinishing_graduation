{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/smart-finshing/app/components/Nav/page.tsx"],"sourcesContent":["\"use client\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport Link from \"next/link\";\r\nimport { useToken } from \"../../context/token_context\";\r\nimport { useLoginClient } from \"../../context/regester/login_context\";\r\nimport {\r\n  UserCircleIcon,\r\n  ChevronDownIcon,\r\n  ArrowRightOnRectangleIcon,\r\n  LifebuoyIcon,\r\n} from \"@heroicons/react/24/outline\";\r\nimport { useState, useRef, useEffect } from \"react\";\r\n\r\nexport default function MinimalNavbar() {\r\n  const { userData, logOut } = useToken();\r\n  const { saveData } = useLoginClient();\r\n  const [dropOpen, setDropOpen] = useState(false);\r\n  const dropRef = useRef(null);\r\n\r\n  const [loadingBtn, setLoadingBtn] = useState({\r\n    requests: false,\r\n    projects: false,\r\n    account: false,\r\n    support: false,\r\n    logout: false,\r\n    login: false,\r\n    signup: false,\r\n  });\r\n\r\n  const role =\r\n    userData?.[\"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\"] || \"\";\r\n  const isCustomer = role.toLowerCase() === \"customer\";\r\n  const isWorker = role.toLowerCase() === \"worker\";\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e) => {\r\n      if (dropRef.current && !dropRef.current.contains(e.target)) {\r\n        setDropOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  const handleLoading = (key) => {\r\n    setLoadingBtn((prev) => ({ ...prev, [key]: true }));\r\n    setTimeout(() => {\r\n      setLoadingBtn((prev) => ({ ...prev, [key]: false }));\r\n    }, 2000);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setLoadingBtn((prev) => ({ ...prev, logout: true }));\r\n    Promise.resolve(logOut()).finally(() =>\r\n      setLoadingBtn((prev) => ({ ...prev, logout: false }))\r\n    );\r\n  };\r\n\r\n  return (\r\n    <nav className=\"w-full bg-white shadow-md z-[9999]\">\r\n      <div className=\"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center p-4 gap-4 md:gap-0\">\r\n        {/* Logo */}\r\n        <Link href=\"/\" className=\"text-xl font-bold flex items-center\">\r\n          <span className=\"inline-block w-5 h-5 mr-2 rounded-full bg-green-500\" />\r\n          logo\r\n        </Link>\r\n\r\n        {/* Right section */}\r\n        <div className=\"flex flex-col md:flex-row md:items-center gap-4 md:gap-6\" ref={dropRef}>\r\n          {userData ? (\r\n            <>\r\n              <div className=\"flex gap-4 font-medium\">\r\n                <Link\r\n                  href=\"/requests\"\r\n                  className={`hover:text-green-500 px-3 py-1 ${\r\n                    loadingBtn.requests ? \"opacity-50 pointer-events-none\" : \"\"\r\n                  }`}\r\n                  onClick={() => handleLoading(\"requests\")}\r\n                >\r\n                  {loadingBtn.requests ? <i className=\"fa fa-spinner fa-spin\"></i> : \"Requests\"}\r\n                </Link>\r\n                {!isWorker && (\r\n                  <Link\r\n                    href=\"/projects\"\r\n                    className={`hover:text-green-500 px-3 py-1 ${\r\n                      loadingBtn.projects ? \"opacity-50 pointer-events-none\" : \"\"\r\n                    }`}\r\n                    onClick={() => handleLoading(\"projects\")}\r\n                  >\r\n                    {loadingBtn.projects ? <i className=\"fa fa-spinner fa-spin\"></i> : \"Projects\"}\r\n                  </Link>\r\n                )}\r\n              </div>\r\n\r\n              {/* Dropdown */}\r\n              <div className=\"relative\">\r\n                <button\r\n                  onClick={() => setDropOpen(!dropOpen)}\r\n                  className=\"flex items-center bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 focus:outline-none\"\r\n                >\r\n                  <UserCircleIcon className=\"h-5 w-5\" />\r\n                  <span className=\"ml-2 hidden sm:inline-block\">\r\n                    {saveData?.displayName?.split(\" \")[0] || \"User\"}\r\n                  </span>\r\n                  <ChevronDownIcon\r\n                    className={`h-4 w-4 ml-1 transform transition-transform ${\r\n                      dropOpen ? \"rotate-180\" : \"\"\r\n                    }`}\r\n                  />\r\n                </button>\r\n\r\n                {dropOpen && (\r\n                  <div className=\"absolute right-0 mt-2 w-44 bg-white border border-gray-200 rounded-lg shadow-lg z-[99999] overflow-hidden text-black\">\r\n                    <Link\r\n                      href=\"/account\"\r\n                      className={`flex items-center px-4 py-2 hover:bg-gray-100 ${\r\n                        loadingBtn.account ? \"opacity-50 pointer-events-none\" : \"\"\r\n                      }`}\r\n                      onClick={() => handleLoading(\"account\")}\r\n                    >\r\n                      <UserCircleIcon className=\"h-5 w-5 mr-2 text-gray-600\" />\r\n                      {loadingBtn.account ? (\r\n                        <i className=\"fa fa-spinner fa-spin\"></i>\r\n                      ) : (\r\n                        \"Account\"\r\n                      )}\r\n                    </Link>\r\n                    <Link\r\n                      href=\"/support\"\r\n                      className={`flex items-center px-4 py-2 hover:bg-green-50 ${\r\n                        loadingBtn.support ? \"opacity-50 pointer-events-none\" : \"\"\r\n                      }`}\r\n                      onClick={() => handleLoading(\"support\")}\r\n                    >\r\n                      <LifebuoyIcon className=\"h-5 w-5 mr-2 text-green-600\" />\r\n                      {loadingBtn.support ? (\r\n                        <i className=\"fa fa-spinner fa-spin\"></i>\r\n                      ) : (\r\n                        \"Support\"\r\n                      )}\r\n                    </Link>\r\n                    <button\r\n                      onClick={handleLogout}\r\n                      disabled={loadingBtn.logout}\r\n                      className={`w-full text-left flex items-center px-4 py-2 hover:bg-gray-100 ${\r\n                        loadingBtn.logout ? \"opacity-50 pointer-events-none\" : \"\"\r\n                      }`}\r\n                    >\r\n                      <ArrowRightOnRectangleIcon className=\"h-5 w-5 mr-2 text-gray-600\" />\r\n                      {loadingBtn.logout ? \"Logging out...\" : \"Log out\"}\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <div className=\"flex flex-wrap items-center justify-center gap-2\">\r\n              <Link\r\n                href=\"/login\"\r\n                className={`px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-100 ${\r\n                  loadingBtn.login ? \"opacity-50 pointer-events-none\" : \"\"\r\n                }`}\r\n                onClick={() => handleLoading(\"login\")}\r\n              >\r\n                {loadingBtn.login ? <i className=\"fa fa-spinner fa-spin\"></i> : \"Login\"}\r\n              </Link>\r\n              <Link\r\n                href=\"/signup\"\r\n                className={`px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 ${\r\n                  loadingBtn.signup ? \"opacity-50 pointer-events-none\" : \"\"\r\n                }`}\r\n                onClick={() => handleLoading(\"signup\")}\r\n              >\r\n                {loadingBtn.signup ? <i className=\"fa fa-spinner fa-spin\"></i> : \"Sign Up\"}\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 322, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/smart-finshing/app/projects/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { useApi } from \"../../context/ApiContext\";\r\nimport { useToken } from \"../../context/token_context\";\r\nimport { useLoginClient } from \"../../context/regester/login_context\";\r\nimport Image from \"next/image\";\r\nimport { Pencil, Home, Ruler, Paintbrush, Package, Info, DollarSign, Calendar, MapPin } from \"lucide-react\";\r\nimport Navbar from \"../../components/Nav/page\";\r\n\r\ninterface ProjectImage {\r\n  id: number;\r\n  imageUrl: string;\r\n}\r\n\r\ninterface Project {\r\n  id: number;\r\n  name: string;\r\n  serviceId: number;\r\n  serviceName: string;\r\n  apartmentType: string;\r\n  apartmentSize: string;\r\n  preferredStyle: string;\r\n  materialQuality: string;\r\n  minBudget: number;\r\n  maxBudget: number;\r\n  details: string;\r\n  createdDate: string;\r\n  projectImages: ProjectImage[];\r\n}\r\n\r\nexport default function ProjectDetailsPage() {\r\n  const [project, setProject] = useState<Project | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [selectedFiles, setSelectedFiles] = useState<FileList | null>(null);\r\n  const [message, setMessage] = useState<{ type: \"success\" | \"error\"; text: string } | null>(null);\r\n\r\n  const { baseUrl } = useApi();\r\n  const { userData } = useToken();\r\n  const { saveData } = useLoginClient();\r\n  const { id } = useParams();\r\n  const router = useRouter();\r\n\r\n  const userRole =\r\n    userData?.[\"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\"] || \"\";\r\n  const isOwner = userRole.toLowerCase() === \"customer\";\r\n\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  const handleDeleteImage = async (imageId: number) => {\r\n    if (!confirm(\"Are you sure you want to delete this image?\")) return;\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      await fetch(`${baseUrl}/api/Projects/${id}/images/${imageId}`, {\r\n        method: \"DELETE\",\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      const updated = await fetch(`${baseUrl}/api/Projects/${id}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      const data = await updated.json();\r\n      setProject(data);\r\n    } catch (err) {\r\n      setMessage({ type: \"error\", text: \"Failed to delete image: \" + err });\r\n    }\r\n  };\r\n\r\n  const fetchProject = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const res = await fetch(`${baseUrl}/api/Projects/${id}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      const data = await res.json();\r\n      setProject(data);\r\n    } catch (err: any) {\r\n      setError(err.message || \"Something went wrong.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchProject();\r\n  }, [baseUrl, id]);\r\n\r\n  const handleDelete = async () => {\r\n    if (!confirm(\"Are you sure you want to delete this project?\")) return;\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      await fetch(`${baseUrl}/api/Projects/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setMessage({ type: \"success\", text: \"Project deleted successfully\" });\r\n      setTimeout(() => router.push(\"/projects\"), 1200);\r\n    } catch (err: any) {\r\n      setMessage({ type: \"error\", text: \"Error deleting project: \" + err.message });\r\n    }\r\n  };\r\n\r\n  const handleUploadImages = async () => {\r\n    if (!selectedFiles) {\r\n      setMessage({ type: \"error\", text: \"Please select image(s) first.\" });\r\n      return;\r\n    }\r\n    const formData = new FormData();\r\n    for (let i = 0; i < selectedFiles.length; i++) {\r\n      formData.append(\"files\", selectedFiles[i]);\r\n    }\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const res = await fetch(`${baseUrl}/api/Projects/${id}/images`, {\r\n        method: \"POST\",\r\n        headers: { Authorization: `Bearer ${token}` },\r\n        body: formData,\r\n      });\r\n      const updatedProject = await res.json();\r\n      setProject(updatedProject);\r\n      setSelectedFiles(null);\r\n      setMessage({ type: \"success\", text: \"Images uploaded successfully!\" });\r\n    } catch (err: any) {\r\n      setMessage({ type: \"error\", text: \"Error uploading images: \" + err.message });\r\n    }\r\n  };\r\n\r\n  if (loading) return (\r\n    <div className=\"flex flex-col items-center justify-center py-20 text-center\">\r\n      <div className=\"animate-spin rounded-full h-16 w-16 border-4 border-t-green-600 border-gray-300 mb-4\"></div>\r\n      <h3 className=\"text-lg font-semibold text-gray-700\">Loading Data...</h3>\r\n      <p className=\"text-sm text-gray-400 mt-1\">Please wait, this may take a moment.</p>\r\n    </div>\r\n  );\r\n  if (error) return <p className=\"text-center mt-10 text-red-600\">{error}</p>;\r\n  if (!project) return <p className=\"text-center mt-10\">Project not found.</p>;\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"bg-[#f2f2f2] py-10 min-h-screen\">\r\n        <div className=\"bg-white rounded-xl shadow max-w-6xl mx-auto p-8\">\r\n          <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 border-b pb-6 mb-6\">\r\n            <div className=\"flex gap-4 items-center\">\r\n              <img\r\n                src={saveData?.profilePictureUrl || \"/images/default-user.png\"}\r\n                alt=\"User\"\r\n                className=\"w-20 h-20 rounded-full object-cover border-2 border-green-600\"\r\n              />\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold text-gray-800\">{saveData?.displayName || \"---\"}</h2>\r\n                <p className=\"text-sm text-gray-500 flex items-center gap-1\"><Calendar size={14} /> project created on {new Date(project.createdDate).toLocaleDateString()}</p>\r\n                <p className=\"text-sm text-gray-500 flex items-center gap-1\"><MapPin size={14} /> {saveData?.address || \"---\"}</p>\r\n              </div>\r\n            </div>\r\n            {isOwner && (\r\n              <div className=\"flex gap-3\">\r\n                <button onClick={() => router.push(`/projects/${project.id}/edit`)} className=\"bg-gray-100 hover:bg-gray-200 text-gray-700 p-2 rounded shadow\">\r\n                  <Pencil size={18} />\r\n                </button>\r\n                <button onClick={handleDelete} className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-1 rounded shadow\">Delete</button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"grid md:grid-cols-2 gap-10\">\r\n            <div className=\"space-y-10\">\r\n              <div className=\"flex items-center gap-2\"><Home size={16} /><strong>Apartment type:</strong> {project.apartmentType || \"---\"}</div>\r\n              <div className=\"flex items-center gap-2\"><Ruler size={16} /><strong>Apartment size:</strong> {project.apartmentSize || \"---\"}</div>\r\n              <div className=\"flex items-center gap-2\"><Paintbrush size={16} /><strong>Preferred style:</strong> {project.preferredStyle || \"---\"}</div>\r\n              <div className=\"flex items-center gap-2\"><Package size={16} /><strong>Material quality:</strong> {project.materialQuality || \"---\"}</div>\r\n              <div className=\"flex items-center gap-2\"><DollarSign size={16} /><strong>Budget Range:</strong> {project.minBudget != null && project.maxBudget != null ? `${project.minBudget} EGP - ${project.maxBudget} EGP` : \"---\"}</div>\r\n              <div className=\"flex items-center gap-2\"><Info size={16} /><strong>Details:</strong> {project.details || \"---\"}</div>\r\n            </div>\r\n            <div>\r\n              <p className=\"font-semibold text-gray-700 mb-2\">Photos and videos</p>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                {project.projectImages.map((img) => (\r\n                  <div key={img.id} className=\"relative group rounded-xl overflow-hidden shadow hover:shadow-lg transition\">\r\n                    <Image src={img.imageUrl} alt=\"Project Image\" width={300} height={200} className=\"object-cover w-full h-40\" />\r\n                    {isOwner && (\r\n                      <button onClick={() => handleDeleteImage(img.id)} className=\"absolute top-2 right-2 bg-red-600 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition\">\r\n                        Delete\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              {isOwner && (\r\n                <div className=\"mt-6 space-y-2 bg-gray-50 rounded-xl p-4 shadow\">\r\n                  <input type=\"file\" multiple accept=\"image/*\" onChange={(e) => setSelectedFiles(e.target.files)} className=\"block w-full text-sm text-gray-600\" />\r\n                  <button\r\n                    onClick={handleUploadImages}\r\n                    disabled={uploading || !selectedFiles?.length}\r\n                    className={`w-full flex items-center justify-center gap-2 px-4 py-2 rounded transition font-semibold\r\n                      ${uploading || !selectedFiles?.length\r\n                        ? \"bg-gray-300 text-gray-500 cursor-not-allowed\"\r\n                        : \"bg-blue-600 hover:bg-blue-700 text-white\"}\r\n                    `}\r\n                  >\r\n                    {uploading ? (\r\n                      <>\r\n                        <svg\r\n                          className=\"animate-spin h-5 w-5 text-white\"\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                          fill=\"none\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <circle\r\n                            className=\"opacity-25\"\r\n                            cx=\"12\"\r\n                            cy=\"12\"\r\n                            r=\"10\"\r\n                            stroke=\"currentColor\"\r\n                            strokeWidth=\"4\"\r\n                          ></circle>\r\n                          <path\r\n                            className=\"opacity-75\"\r\n                            fill=\"currentColor\"\r\n                            d=\"M4 12a8 8 0 018-8v8H4z\"\r\n                          ></path>\r\n                        </svg>\r\n                        Uploading...\r\n                      </>\r\n                    ) : selectedFiles?.length ? (\r\n                      \"Upload Images\"\r\n                    ) : (\r\n                      \"No files selected\"\r\n                    )}\r\n                  </button>\r\n\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 950, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}