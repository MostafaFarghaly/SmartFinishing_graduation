{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/smart-finshing/app/viewprofile/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Image from \"next/image\";\r\n\r\ntype Review = {\r\n  customerName: string;\r\n  comment: string;\r\n  rating: number;\r\n};\r\n\r\ntype Worker = {\r\n  id: number;\r\n  name: string;\r\n  description: string;\r\n  companyName: string;\r\n  experienceYears: number;\r\n  profilePictureUrl: string;\r\n  city: string;\r\n  phoneNumber: string;\r\n  serviceName: string;\r\n  rating: number | null;\r\n  reviews: Review[];\r\n  portfolioItems: {\r\n    imageUrls: string[];\r\n  }[];\r\n};\r\n\r\nexport default function ViewProfile({ params }: { params: { id: string } }) {\r\n  const id = params.id;\r\n  const [worker, setWorker] = useState<Worker | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchWorker = async () => {\r\n      try {\r\n        const res = await fetch(\r\n          `https://projectapi-ekhpcndsdgbahqhm.canadacentral-01.azurewebsites.net/api/Profile/workers/${id}`\r\n        );\r\n        if (!res.ok) throw new Error(\"Worker not found\");\r\n        const data = await res.json();\r\n        setWorker(data);\r\n      } catch (err) {\r\n        console.error(\"Error fetching worker:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchWorker();\r\n  }, [id]);\r\n\r\n  if (loading) return <div className=\"p-4\">Loading...</div>;\r\n  if (!worker) return <div className=\"p-4 text-red-500\">Worker not found.</div>;\r\n\r\n  return (\r\n    <div className=\"p-4 bg-white\">\r\n      {/* Header */}\r\n      <div className=\"flex border-b pb-4 mb-4\">\r\n        <Image\r\n          src={worker.profilePictureUrl || \"/images/default-profile.jpg\"}\r\n          alt=\"Profile\"\r\n          width={60}\r\n          height={100}\r\n          className=\"rounded-lg\"\r\n        />\r\n        <div className=\"ml-4\">\r\n          <h1 className=\"text-2xl font-semibold\">{worker.name}</h1>\r\n          <p className=\"text-gray-500\">{worker.companyName}</p>\r\n          <p className=\"text-red-500\">\r\n            ‚≠ê {worker.rating ?? \"No rating\"} ({worker.reviews.length} reviews)\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex gap-6 bg-white\">\r\n        {/* Left Column */}\r\n        <div className=\"flex-1\">\r\n          {/* About Section */}\r\n          <div className=\"mb-6\">\r\n            <h2 className=\"text-lg font-semibold\">About</h2>\r\n            <p className=\"text-gray-600 text-sm\">{worker.description}</p>\r\n          </div>\r\n\r\n          {/* Highlights */}\r\n          <div className=\"grid grid-cols-2 gap-4 border-t pt-4 mb-6\">\r\n            <div>\r\n              <h3 className=\"text-sm font-semibold\">Service</h3>\r\n              <p className=\"text-gray-600 text-sm\">{worker.serviceName}</p>\r\n            </div>\r\n            <div>\r\n              <h3 className=\"text-sm font-semibold\">Experience</h3>\r\n              <p className=\"text-gray-600 text-sm\">{worker.experienceYears} years</p>\r\n            </div>\r\n            <div>\r\n              <h3 className=\"text-sm font-semibold\">Phone</h3>\r\n              <p className=\"text-gray-600 text-sm\">{worker.phoneNumber}</p>\r\n            </div>\r\n            <div>\r\n              <h3 className=\"text-sm font-semibold\">City</h3>\r\n              <p className=\"text-gray-600 text-sm\">{worker.city}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Reviews */}\r\n          <div className=\"border-t pt-4 mb-6\">\r\n            <h2 className=\"text-lg font-semibold\">Reviews</h2>\r\n            {worker.reviews.length === 0 && (\r\n              <p className=\"text-gray-500 text-sm\">No reviews yet.</p>\r\n            )}\r\n            {worker.reviews.map((review, index) => (\r\n              <div key={index} className=\"mt-4\">\r\n                <p className=\"text-sm font-semibold\">{review.customerName}</p>\r\n                <p className=\"text-gray-600 text-sm\">\"{review.comment}\"</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Portfolio / Media */}\r\n        <div className=\"w-80\">\r\n          <h2 className=\"text-lg font-semibold mb-4\">Portfolio</h2>\r\n          <div className=\"grid grid-cols-2 gap-2\">\r\n            {worker.portfolioItems.flatMap((item) =>\r\n              item.imageUrls.map((url, index) => (\r\n                <Image\r\n                  key={index}\r\n                  src={url}\r\n                  alt={`Portfolio ${index + 1}`}\r\n                  width={100}\r\n                  height={100}\r\n                  className=\"rounded-lg object-cover\"\r\n                />\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}