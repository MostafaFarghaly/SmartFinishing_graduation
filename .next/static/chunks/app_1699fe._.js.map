{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/smart-finshing/app/components/Nav/page.tsx"],"sourcesContent":["\"use client\";\r\nimport Link from \"next/link\";\r\nimport { useToken } from \"../../context/token_context\";\r\nimport { useLoginClient } from \"../../context/regester/login_context\";\r\nimport {\r\n  UserCircleIcon,\r\n  ChevronDownIcon,\r\n  ArrowRightOnRectangleIcon,\r\n  LifebuoyIcon,\r\n} from \"@heroicons/react/24/outline\";\r\nimport { useState, useRef, useEffect } from \"react\";\r\n\r\nexport default function MinimalNavbar() {\r\n  const { userData, logOut } = useToken();\r\n  const { saveData } = useLoginClient();\r\n  const [dropOpen, setDropOpen] = useState(false);\r\n  const dropRef = useRef(null);\r\n\r\n  const role =\r\n    userData?.[\"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\"] || \"\";\r\n  const isCustomer = role.toLowerCase() === \"customer\";\r\n  const isWorker = role.toLowerCase() === \"worker\";\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e) => {\r\n      if (dropRef.current && !dropRef.current.contains(e.target)) {\r\n        setDropOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <nav className=\"relative p-4 text-black shadow-md backdrop-blur-sm z-[9999]\">\r\n      <div className=\"container mx-auto flex justify-between items-center\">\r\n        {/* Logo */}\r\n        <Link href=\"/\" className=\"text-xl font-bold flex items-center\">\r\n          <span className=\"inline-block w-5 h-5 mr-2 rounded-full\" />\r\n          logo\r\n        </Link>\r\n\r\n        {/* Right section */}\r\n        <div\r\n          className={`lg:flex lg:items-center lg:w-auto w-full lg:block mt-4 lg:mt-0`}\r\n          ref={dropRef}\r\n        >\r\n          {userData ? (\r\n            <>\r\n              <div className=\"flex gap-4 font-medium px-2\">\r\n                <Link\r\n                  href=\"/requests\"\r\n                  className=\"hover:text-green-400 px-3 py-1 rounded\"\r\n                >\r\n                  Requests\r\n                </Link>\r\n                {!isWorker && (\r\n                  <Link\r\n                    href=\"/projects\"\r\n                    className=\"hover:text-green-400 px-3 py-1 rounded\"\r\n                  >\r\n                    Projects\r\n                  </Link>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"relative ml-4\">\r\n                <button\r\n                  onClick={() => setDropOpen(!dropOpen)}\r\n                  className=\"z-[9999] relative flex items-center bg-green-500 text-white px-4 py-2 rounded-md hover:bg-opacity-90 focus:outline-none\"\r\n                >\r\n                  <UserCircleIcon className=\"h-5 w-5\" />\r\n                  <span className=\"ml-2\">\r\n                    {saveData.displayName.split(\" \")[0]}\r\n                  </span>\r\n                  <ChevronDownIcon\r\n                    className={`h-4 w-4 ml-1 transform transition-transform ${\r\n                      dropOpen ? \"rotate-180\" : \"\"\r\n                    }`}\r\n                  />\r\n                </button>\r\n\r\n                {dropOpen && (\r\n                  <div className=\"fixed top-16 right-4 w-40 bg-white border border-gray-200 rounded-lg shadow-lg z-[99999] overflow-hidden text-black\">\r\n                    <Link\r\n                      href=\"/account\"\r\n                      className=\"flex items-center px-4 py-2 hover:bg-gray-100\"\r\n                    >\r\n                      <UserCircleIcon className=\"h-5 w-5 mr-2 text-gray-600\" />{\" \"}\r\n                      Account\r\n                    </Link>\r\n                    <Link\r\n                      href=\"/support\"\r\n                      className=\"flex items-center px-4 py-2 bg-green-50 hover:bg-green-100\"\r\n                    >\r\n                      <LifebuoyIcon className=\"h-5 w-5 mr-2 text-green-600\" />{\" \"}\r\n                      Support\r\n                    </Link>\r\n                    <button\r\n                      onClick={logOut}\r\n                      className=\"w-full text-left flex items-center px-4 py-2 hover:bg-gray-100\"\r\n                    >\r\n                      <ArrowRightOnRectangleIcon className=\"h-5 w-5 mr-2 text-gray-600\" />{\" \"}\r\n                      Log out\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <div className=\"flex items-center justify-center space-x-4\">\r\n              <Link\r\n                href=\"/login\"\r\n                className=\"px-4 py-2 border text-white rounded-md hover:bg-gray-100\"\r\n              >\r\n                Login\r\n              </Link>\r\n              <Link\r\n                href=\"/signup\"\r\n                className=\"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600\"\r\n              >\r\n                Sign Up\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAOA;AANA;AAAA;AAAA;AAAA;;;AAJA;;;;;;AAYe,SAAS;;IACtB,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,mIAAA,CAAA,WAAQ,AAAD;IACpC,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,+IAAA,CAAA,iBAAc,AAAD;IAClC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAEvB,MAAM,OACJ,UAAU,CAAC,+DAA+D,IAAI;IAChF,MAAM,aAAa,KAAK,WAAW,OAAO;IAC1C,MAAM,WAAW,KAAK,WAAW,OAAO;IAExC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,MAAM;8DAAqB,CAAC;oBAC1B,IAAI,QAAQ,OAAO,IAAI,CAAC,QAAQ,OAAO,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG;wBAC1D,YAAY;oBACd;gBACF;;YACA,SAAS,gBAAgB,CAAC,aAAa;YACvC;2CAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;;QACzD;kCAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC,+JAAA,CAAA,UAAI;oBAAC,MAAK;oBAAI,WAAU;;sCACvB,6LAAC;4BAAK,WAAU;;;;;;wBAA2C;;;;;;;8BAK7D,6LAAC;oBACC,WAAW,CAAC,8DAA8D,CAAC;oBAC3E,KAAK;8BAEJ,yBACC;;0CACE,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,+JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;oCAGA,CAAC,0BACA,6LAAC,+JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;;;;;;;0CAML,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,SAAS,IAAM,YAAY,CAAC;wCAC5B,WAAU;;0DAEV,6LAAC,8NAAA,CAAA,iBAAc;gDAAC,WAAU;;;;;;0DAC1B,6LAAC;gDAAK,WAAU;0DACb,SAAS,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;;;;;;0DAErC,6LAAC,gOAAA,CAAA,kBAAe;gDACd,WAAW,CAAC,4CAA4C,EACtD,WAAW,eAAe,IAC1B;;;;;;;;;;;;oCAIL,0BACC,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,+JAAA,CAAA,UAAI;gDACH,MAAK;gDACL,WAAU;;kEAEV,6LAAC,8NAAA,CAAA,iBAAc;wDAAC,WAAU;;;;;;oDAAgC;oDAAI;;;;;;;0DAGhE,6LAAC,+JAAA,CAAA,UAAI;gDACH,MAAK;gDACL,WAAU;;kEAEV,6LAAC,0NAAA,CAAA,eAAY;wDAAC,WAAU;;;;;;oDAAiC;oDAAI;;;;;;;0DAG/D,6LAAC;gDACC,SAAS;gDACT,WAAU;;kEAEV,6LAAC,oPAAA,CAAA,4BAAyB;wDAAC,WAAU;;;;;;oDAAgC;oDAAI;;;;;;;;;;;;;;;;;;;;qDAQnF,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,+JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;0CAGD,6LAAC,+JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf;GArHwB;;QACO,mIAAA,CAAA,WAAQ;QAChB,+IAAA,CAAA,iBAAc;;;KAFb"}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":["file://D%3A/front_end/projects/next_js/smart-finshing/app/gosearch/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { useApi } from \"../../context/ApiContext\";\r\nimport Navbar from \"../../components/Nav/page\";\r\nimport Footer from \"../components/Footer/page\";\r\n\r\nexport default function GoSearch() {\r\n  const { baseUrl } = useApi();\r\n  const params = useParams();\r\n  const router = useRouter();\r\n\r\n  const serviceId = params.id;\r\n  const [selectedService, setSelectedService] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const res = await fetch(`${baseUrl}/api/categories`, {\r\n          cache: \"force-cache\",\r\n          next: { revalidate: 60 },\r\n        });\r\n\r\n        if (!res.ok) throw new Error(\"Failed to fetch data\");\r\n\r\n        const data = await res.json();\r\n        const allServices = data?.data?.flatMap((cat) => cat.services || []);\r\n        const foundService = allServices.find(\r\n          (s) => String(s.id) === String(serviceId)\r\n        );\r\n\r\n        if (!foundService) {\r\n          router.replace(\"/not-found\"); // بديل لـ notFound()\r\n          return;\r\n        }\r\n\r\n        setSelectedService(foundService);\r\n      } catch (err) {\r\n        console.error(err);\r\n        router.replace(\"/not-found\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    if (serviceId) fetchData();\r\n  }, [baseUrl, serviceId]);\r\n\r\n  if (loading) return <p className=\"text-center py-10\">Loading...</p>;\r\n  if (!selectedService) return null;\r\n\r\n  const workers = selectedService.workers || [];\r\n  const heroImage = selectedService.pictureUrl || \"/images/default-hero.jpg\";\r\n\r\n  return (<>\r\n    <Navbar  />\r\n    <div>\r\n      {/* Hero Section */}\r\n      <div className=\"max-w-6xl mx-auto my-6 px-4 flex flex-col md:flex-row gap-6 items-center\">\r\n        <div className=\"w-full md:w-1/2\">\r\n          <Image\r\n            src={heroImage}\r\n            alt={`Banner for ${selectedService.name}`}\r\n            width={600}\r\n            height={400}\r\n            className=\"rounded-lg object-cover w-full h-auto\"\r\n          />\r\n        </div>\r\n        <div className=\"w-full md:w-1/2\">\r\n          <h2 className=\"text-xl font-semibold text-green-700 mb-2\">\r\n            🔹 Top {selectedService.name} workers near you\r\n          </h2>\r\n          <p className=\"text-gray-600 text-sm mb-4\">\r\n            These workers have been highly rated for knowledge, experience, and\r\n            customer satisfaction.\r\n          </p>\r\n          <hr className=\"border-gray-300\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Workers Section */}\r\n      <div className=\"max-w-5xl mx-auto bg-white rounded-lg\">\r\n        {workers.length > 0 ? (\r\n          workers.map((worker) => (\r\n            <div\r\n              key={worker.id}\r\n              className=\"group flex items-center border pb-4 mb-4 border-gray-200 bg-white rounded-lg p-4\"\r\n            >\r\n              <div>\r\n                <Image\r\n                  src={worker.profilePicture || \"/images/default-user.png\"}\r\n                  alt={worker.name || \"Worker profile\"}\r\n                  width={80}\r\n                  height={80}\r\n                  className=\"rounded-lg bg-gray-200\"\r\n                />\r\n              </div>\r\n              <div className=\"flex-1 px-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                  {worker.name}\r\n                </h3>\r\n                <p className=\"text-gray-600 text-sm\">{worker.email}</p>\r\n                <p className=\"text-gray-600 text-sm\">{worker.city}</p>\r\n                <p className=\"text-gray-600 text-sm\">\r\n                  {worker.rating || \"No rating available\"} ⭐\r\n                </p>\r\n              </div>\r\n              <div className=\"grid grid-cols-1\">\r\n                <Link\r\n                  href={`/send-request/${worker.id}`}\r\n                  className=\"mb-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-white hover:text-black\"\r\n                >\r\n                  Request Quote\r\n                </Link>\r\n                <Link\r\n                  href={`/viewprofile/${worker.id}`}\r\n                  className=\"mt-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-white hover:text-black\"\r\n                >\r\n                  Learn More\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p className=\"text-center text-gray-600 text-sm py-10\">\r\n            No workers found for this service.\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n    <Footer />\r\n  </>);\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 566, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}